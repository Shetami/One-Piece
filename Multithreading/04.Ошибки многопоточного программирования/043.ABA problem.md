Проблема, когда CAS не скажет, что что-то изменилось.

В lock-free алгоритмах проблема, тк используют CAS

CAS выдаст нам true в ситуациях когда к примеру:

Мы взяли указатель на вершине стека, и другой поток вытянул от туда элемент и положил новый, затерев значения в памяти. Положил как бы в туже ячейку памяти.

В языках с управляемой памятью (как java) писать lock-free алгоритмы легче, тк такой ситуации не произойдёт. Пока у нас есть ссылка на ячейку памяти - её не смогут удалить

потом норм распишу