![[Pasted image 20240623231533.png]]

- **Postmaster** (сейчас называется postgres) 
  Самая главная хуйня, отвечает за включение, остановку бд, за создание процессов которые обрабатывают клиентские запросы
- **background writer** process
    - Периодически синхронизирует грязные страницы (из `shared buffer` в файлы данных(на вторичку))
    - облегчает работу `checkpointer` (работает чаще).
- **checkpointer**
    - Иногда производится синхронизация из `shared buffer`, `wal buffer`, при этом создаётся чекпоинтер, чтобы можно было возвращаться если что при восстановлении бд. Периодически ебашит полную синхронизацию буферов с дисками + записывает данные об синхронизации (чекноинт, куда можно откатиться).
    - более тяжёлый процесс чем `writer`
    -  Записывает специальный журнал (WAL - Write-Ahead Log) для фиксации контрольной точки.
- **logging collector**
    - логи что происходит в субд да
- **archiver**
    - Периодически копирует wal файлы куда указано (на другой диск, либо на другой сервак надо)- тип если сдохнет диск то пизда. (выключен по умолчанию)
- **stats collector**
    - собирает статистику по запросам. Сколько данных в таблицаъ, сколько выполняются запросы.
    - pg_stat_*
    - pg_stat_database