### Реализация в postgresql MVCC

реализует MVCC (его подвид serializable snapshot isolation).

При изменении данных создаются новые, а не изменяются старые. Несколько версий записи могут быть видны в разных транзакциях.

Позволяет почти избежать блокировок.

Позволяет параллельно производить операции за счёт того что создаёт новые копии.

Выглядит так:
после update Group
![[Pasted image 20240624174715.png]]

Какое то время будет храниться старая

После **удаления** не удаляется из таблицы, у удалённой строки изменится **xmax**, показывающий какая транзакция удалила запись.
После **update**:
![[Pasted image 20240624175019.png|450]]
![[Pasted image 20240624174853.png|450]]

# Блокировки, параллельные операции
