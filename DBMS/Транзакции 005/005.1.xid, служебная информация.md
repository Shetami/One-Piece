Идентификация транзакции - xid. Наpначается для каждой транзакции.
Чтобы получить **xid** текущей транзакции:
`SELECT Column1, pg_current_xact_id() FROM TABLE1;`
**xid** - 32 бита.
    
Таблица на самом деле хранит множество служебных столбцов.
`SELECT xmin, * FROM TABLE;`

-  xmin - xid создана
- xman - xid с помощью какой транзакции удалено
- cmin - идентификатор команды создавшей запись (с нуля начинается)
    - порядковый номер в транзакции типа
- cmax - удалившей

---

Если xid меньше - то был раньше нашей транзакции

xid начинается с 3 (0,1,2 зарезервиваны)

32х битные. Чтобы экономить если sql запрос лёгкий, ничего не изменивший, то ему может быть выдан виртуальный xid. Также может выдаваться статус frozen (старые, неактуальные, завершённые), чтобы реиспользовать для новых.

Если xid не хватает - то можно использовать VACUUM

---

```sql
BEGIN;
SELECT * ...
UPDATE ...; //xid назначется только после UPDATE
COMMIT;
```

проверить можно с помощью